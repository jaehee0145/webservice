### chapter 09 코드가 푸시되면 자동으로 배포해 보자 - Travis CI 배포 자동화 

### CI & CD 소개
- CI (Continuous Integration 지속적 통합)
  - 코드 버전 관리를 하는 VCS 시스템(Git, SVN 등)에 푸시가 되면 자동으로 테스트와 빌드가 수행되어 안정적인 배포 파일을 만드는 과정  
- CD (Continuous Deployment 지속적인 배포)  
  - 이 빌드 결과를 자동으로 운영 서버에 무중단 배포까지 진행되는 과정
- 마틴 파울러가 말하는 CI 규칙  
  **CI 도구를 도입했다고 해서 CI를 하고 있는 것은 아니다.**
    - 모든 소스 코드가 살아있고 누구든 현재 소스에 접근할 수 있는 단일 지점을 유지할 것  
    - 빌드 프로세스를 자동화해서 누구든 소스로부터 시스템을 빌드하는 단일 명령어를 사용할 수 있게 할 것 
    - **테스팅을 자동화**해서 단일 명령어로 언제든지 시스템에 대한 건전한 테스트 수트를 실행할 수 있게 할 것  
      - 지속적 통합을 위해 이 프로젝트가 완전한 상태임을 보장하기 위한 테스트 코드가 구현되어 있어야만 함
    - 누구나 현재 실행 파일을 얻으면 지금까지 완전한 실행 파일을 얻었다는 확신을 하게 할 것  

### Travis CI 연동
- Travis CI: 깃허브에서 제공하는 무료 CI
  - 젠킨스: 설치형이라 EC2 인스턴스가 필요함 
- .travis.yml 설정
  - YAML : JSON에서 괄호 제거 

### Travis CI와 AWS S3 연동하기
- S3 : 이미지 파일을 비롯한 정적 파일, 배포 파일 등을 관리하는 파일 서버  
- Travis CI 연동시 구조  
<img width="400" alt="스크린샷 2021-09-20 오전 12 29 40" src="https://user-images.githubusercontent.com/45681372/133933419-2f992ca1-7ba9-4c3c-83cf-d4234226874c.png">
- Travis CI와 S3 연동  
  - Travis CI가 빌드한 Jar 파일을 S3에 저장  
     - 실제 배포는 CodeDeploy로 하지만 Jar파일을 전달하기 위해서 S3 연동이 먼저 필요  
       - CodeDeploy 저장 기능이 없어서 S3 사용  
         - CodeDeploy로 빌드, 배포를 할 수 있지만 빌드없이 배포만 필요한 경우도 있으니까 빌드, 배포를 분리하는 것을 추천  





